soccerStats.controller("playerController",function(e,t,o,n,r){e.player={photo:"",name:"",birthday:"",team:"",jerseyNumber:"",city:"",state:"",emergencyContact:{name:"",phone:"",relationship:""}},e.goToPage=function(e){r(function(){n.goToPage(e)})},e.registerPlayer=function(t){if(n.validateAreaByFormName("playerForm")){var o=Parse.Object.extend("Players"),r=new o;r.set("photo",e.logoFile),r.set("name",t.name),r.set("birthday",t.birthday),r.set("team",t.team.value),r.set("jerseyNumber",t.jerseyNumber),r.set("city",t.city),r.set("state",t.state),r.set("emergencyContact",t.emergencyContact.name),r.set("phone",t.emergencyContact.phone),r.set("relationship",t.emergencyContact.relationship),r.save(null,{success:function(){console.log("player registration successful"),n.goToPage("/home")},error:function(e,t){console.log("Error: "+t.code+" "+t.message)}})}},e.selectFile=function(){$("#file").trigger("click")},e.fileNameChanged=function(t){console.log("select file");var o=t;if(o.files.length>0){var n=o.files[0],a="photo."+n.type.split("/").pop(),s=new Parse.File(a,n);r(function(){e.logoFile=s});var c=new FileReader;c.onloadend=function(){r(function(){e.player.photo=c.result})},c.readAsDataURL(n)}};var a=Parse.User.current();console.log(a.get("username"));var s=Parse.Object.extend("_User"),c=Parse.Object.extend("Team"),l=new Parse.Query(s);e.teamDict=[],l.get(a.id,{success:function(t){var o=t.get("teams");l=new Parse.Query(c),_.each(o,function(t){console.log("1"),l.get(t,{success:function(o){console.log("2"),r(function(){e.teamDict.push({value:t,label:o.get("name")})})},error:function(e,t){console.log("3"),console.log("Error: "+t.code+" "+t.message)}})})},error:function(){}})});