soccerStats.controller("loginController",function(e,o,s,t,r,n,a,i){e.user={email:"",password:""};var c=Parse.User.current();e.init=function(){c.fetch()&&e.goToPage("/home")},s(function(){e.init()}),e.goToPage=function(e){r.goToPage(e)},e.login=function(t){r.validateAreaByFormName("loginForm")?Parse.User.logIn(t.email,t.password,{success:function(t){console.log(t);var r=t.get("name");n.success(a.toasts.loginSuccess(void 0===r?"parent. Please edit your profile":r)),e.goToPage("/home"),o.$broadcast(a.messages.loginSuccess),i.getTeams(function(e){i.setCurrentTeam(e[0]),s(function(){o.$broadcast(a.messages.teamChanged,{team:e[0]})})})},error:function(){n.error(a.toasts.notAuthenticated)}}):n.error(a.toasts.requiredFields)}});