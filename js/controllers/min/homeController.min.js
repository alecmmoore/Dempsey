soccerStats.controller("homeController",function(a,e,t,o,s,l){a.verified=!1,a.user={name:"",accountType:""},a.myPlayers=[];var n=l.currentUser;n&&(a.user.name=n.get("name"),n.get("emailVerified")?a.verified=!0:o.error(s.toasts.emailVerification)),a.editPlayerInfo=function(){console.log("This is where the edit player modal/function will go")},a.teamGames={data:[{value:3,color:"#B4B4B4",highlight:"#B4B4B4",label:"Ties"},{value:7,color:"#5DA97B",highlight:"#5DA97B",label:"Wins"},{value:4,color:"#FF7373",highlight:"#FF7373",label:"Losses"}]},a.topGoals=[{name:"CLINT DEMPSEY",num:4},{name:"OBAFEMI MARTINS",num:3},{name:"MARCO PAPPA",num:2},{name:"LAMAR NEAGLE",num:1},{name:"ANDY ROSE",num:1}],a.topAssists=[{name:"OBAFEMI MARTINS",num:4},{name:"CLINT DEMPSEY",num:3},{name:"MARCO PAPPA",num:2},{name:"LAMAR NEAGLE",num:1},{name:"ANDY ROSE",num:1}],a.topShots=[{name:"OBAFEMI MARTINS",num:4},{name:"CLINT DEMPSEY",num:3},{name:"MARCO PAPPA",num:2},{name:"LAMAR NEAGLE",num:1},{name:"ANDY ROSE",num:1}],a.isCoach=!1,a.$on(s.messages.teamSet,function(e,t){l.getPlayersByTeamId(t.id,function(e){_.each(e,function(e,t){l.getSeasonPlayerStatsByPlayerId(e.id,function(o){console.log(t),a.myPlayers.push({photo:e.attributes.photo?e.attributes.photo._url:"./img/player-icon.svg",fname:e.attributes.name,lname:"",number:e.attributes.jerseyNumber,position:"",total:{goals:o.attributes.goals,fouls:o.attributes.fouls,playingTime:Math.round(o.attributes.playingTime),assists:o.attributes.assists,yellows:0,reds:0,cardInit:function(a,e){_.each(e.attributes.cards,function(e){"yellow"===e.type?a.yellows++:"red"===e.type&&a.reds++})}},shots:{data:[{value:0,color:"#B4B4B4",highlight:"#B4B4B4",label:"Missed"},{value:0,color:"#5DA97B",highlight:"#5DA97B",label:"Completed"}],accuracy:0,blocks:0,onGoal:0,offGoal:0,goals:0,shotInit:function(a,e){_.each(e.attributes.shots,function(e){a.blocks+=e.blocked,a.onGoal+=e.onGoal,a.offGoal+=e.offGoal,a.goals+=e.goals});var t=a.blocks+a.onGoal+a.offGoal+a.goals;a.accuracy=Math.round((t-a.offGoal)/t*100),a.data[0].value=a.offGoal,a.data[1].value=t}},passes:{data:[{value:0,color:"#B4B4B4",highlight:"#B4B4B4",label:"Turnovers"},{value:0,color:"#5DA97B",highlight:"#5DA97B",label:"Total Passes"}],completion:"",turnovers:0,total:0,passInit:function(a,e){_.each(e.attributes.passes,function(e){a.turnovers+=e.turnovers,a.total+=e.total}),a.completion=a.total-a.turnovers+"/"+a.total,a.data[0].value=a.turnovers,a.data[1].value=a.total}},cards:o.attributes.cards,phone:"(123) 456 7890",emergencyContact:{name:e.attributes.emergencyContact,phone:e.attributes.phone,relationship:e.attributes.relationship}}),a.myPlayers[t].total.cardInit(a.myPlayers[t].total,o),a.myPlayers[t].shots.shotInit(a.myPlayers[t].shots,o),a.myPlayers[t].passes.passInit(a.myPlayers[t].passes,o)})})})})});