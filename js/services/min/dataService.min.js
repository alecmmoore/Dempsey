soccerStats.factory("dataService",function(e,a,t,r){var n={U12:"U12",U16:"U16",U18:"U18",U20:"U20",U23:"U23"},o={AL:"Alabama",AK:"Alaska",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District Of Columbia",FL:"Florida",GA:"Georgia",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"},s=function(e){var t=[],n=Parse.User.current(),o=Parse.Object.extend("_User"),s=new Parse.Query(o);return s.include("teams"),s.get(n.id,{success:function(r){a(function(){var a=r.get("teams");_.each(a,function(e){var a=e.get("leagueName"),r=e.get("logo"),n=e.get("name"),o=e.get("ageGroup"),s=e.get("city"),i=e.get("number"),u=e.get("state"),c=e.get("primaryColor");t.push({league:a,value:e.id,label:n,logo:r._url,age:o,city:s,number:i,state:u,color:c})}),e(t)})},error:function(e,a){r.error("There was an error ("+a.code+"). Please try again.")}}),t},i=function(e){var t=[],r=Parse.User.current(),n=Parse.Object.extend("_User"),o=new Parse.Query(n);return o.include("players"),o.get(r.id,{success:function(r){a(function(){var a=r.get("players");_.each(a,function(e){var a=e.get("photo"),r=e.get("name"),n=e.get("birthday"),o=e.get("team"),s=e.get("jerseyNumber"),i=e.get("city"),u=e.get("state"),c={emergencyContact:e.get("emergencyContact"),phone:e.get("phone"),relationship:e.get("relationship")};t.push({photo:a,name:r,birthday:n,team:o,jerseyNumber:s,city:i,state:u,contact:c})}),e(t)})},error:function(){}}),t},u={},c=function(e){u=e},g=function(){return u},l=function(e){var a=Parse.Object.extend("Team"),t=new a;return t.set("ageGroup",e.ageGroup),t.set("city",e.city),t.set("leagueName",e.leagueName),t.set("name",e.name),t.set("number",e.number),t.set("state",_.invert(o)[e.state]),t.set("logo",e.logo),t.set("primaryColor",e.primaryColor),t};return{ageGroups:n,states:o,getTeams:s,currentTeam:u,setCurrentTeam:c,getCurrentTeam:g,registerTeam:l,getPlayers:i}});