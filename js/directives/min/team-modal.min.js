soccerStats.directive("teamModal",function(e,a,o,r,t,s,l,n,c){return{restrict:"E",templateUrl:"./templates/directives/team-modal.html",controller:function(e){var a="teamModal";e.closeModal=function(){t.closeModal(a)},e.team={logo:"",primaryColor:"",name:"",number:"",leagueName:"",ageGroup:"",city:"",state:""},e.addNewTeam=function(a){console.log(a);var r=l.registerTeam(a);r.save(null,{success:function(a){var r=Parse.User.current();r.addUnique("teams",a),r.save(null,{success:function(){s.success(n.toasts.teamAddSuccess),e.closeModal();var r=a.get("leagueName"),t=a.get("logo"),l=a.get("name"),c=a.get("ageGroup"),g=a.get("city"),u=a.get("number"),m=a.get("state"),i=a.get("primaryColor");e.newTeam={league:r,value:a.id,label:l,logo:t._url,age:c,city:g,number:u,state:m,color:i},o.$broadcast(n.messages.addNewTeam,e.newTeam)},error:function(e,a){s.error("There was a an error ("+a.code+"). Please try again.")}})},error:function(e,a){s.error("There was a an error ("+a.code+"). Please try again.")}})},e.goToPage=function(e){t.goToPage(e)},e.getImageColor=function(a){console.log("color"),e.team.primaryColor=a},e.ageGroups=c.ageGroups,e.states=c.states}}});