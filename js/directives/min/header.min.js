soccerStats.directive("header",function(e,t,a,n){return{restrict:"E",templateUrl:"./templates/directives/header.html",controller:function(t,o){t.showTeams=!1,t.showAccount=!1,t.currentTeam={},t.teams=[];var r=Parse.User.current();r&&r.get("firstName")&&(t.currentUser={initials:r.get("firstName")[0]+r.get("lastName")[0]}),t.toggleTeams=function(){t.showTeams=!t.showTeams},t.toggleAccount=function(){t.showAccount=!t.showAccount},t.showCreateTeam=function(){t.toggleTeams(),a.openModal("teamModal")},t.showEditAccount=function(){t.toggleAccount(),a.openModal("accountModal")},t.editTeam=function(){a.openModal("editTeamModal")},t.inviteEmails=function(){a.openModal("inviteEmailModal")},t.addNewPlayer=function(){a.openModal("playerModal")},t.viewPlayer=function(){a.openModal("inviteEmailModal")},t.changeTeam=function(e){t.toggleTeams(),t.currentTeam=e,o.setCurrentTeam(t.currentTeam)},t.createGame=function(){a.openModal("createGameModal")},t.$on(n.messages.addNewTeam,function(a,n){e(function(){t.teams.push(n),t.currentTeam=n,o.setCurrentTeam(t.currentTeam)})}),t.$on(n.messages.updateTeam,function(a,n){e(function(){t.currentTeam=n,o.setCurrentTeam(t.currentTeam)})}),t.goToPage=function(e){a.goToPage(e)},Parse.User.current()&&(t.teams=o.getTeams(function(e){t.currentTeam=e[0],o.setCurrentTeam(t.currentTeam)}))}}});