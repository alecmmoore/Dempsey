soccerStats.directive("schedule",function(){return{restrict:"E",templateUrl:"./templates/directives/schedule.html",controller:function(e,t,s,a,r){e.getGames=function(t){var s=Parse.Object.extend("Team"),a=new Parse.Query(s);a.equalTo("name","Seattle Sounders"),a.first({success:function(s){var r=Parse.Object.extend("Game");a=new Parse.Query(r),a.equalTo("team",s),a.include("gameTeamStatus"),a.find({success:function(a){for(var r,o=[],n=0;n<a.length;n++)r={date:a[n].get("date"),opponent:{name:a[n].get("opponent"),symbol:a[n].get("symbol"),score:a[n].get("gameTeamStats").get("goalsTaken")},team:{name:s.get("name"),symbol:s.get("symbol"),score:a[n].get("gameTeamStats").get("goalsMade")},status:a[n].get("status")},o.push(r);console.log(a),console.log(o),e.games=o,t(o)},error:function(e,t){console.log("Error: "+t.code+" "+t.message),toastService.error("There was a an error ("+t.code+"). Please try again.")}})},error:function(e,t){console.log("Error: "+t.code+" "+t.message),toastService.error("There was a an error ("+t.code+"). Please try again.")}})},e.range=function(e){for(var t=[],s=0;e>s;s++)t.push(s);return t},e.setGame=function(){t.$broadcast(r.messages.setGame,{game:e.currGame})},e.selectGame=function(t){e.currGame=t},e.goRight=function(){Math.abs(e.slidePos)<e.containerWidth-s.innerWidth-100&&(e.slidePos-=100)},e.goLeft=function(){e.slidePos&&(e.slidePos+=100)},e.getTransform=function(){return"-moz-transform: translate3d("+e.slidePos+"px,0,0);-webkit-transform: translate3d("+e.slidePos+"px,0,0);-o-transform: translate3d("+e.slidePos+"px,0,0);-ms-transform: translate3d("+e.slidePos+"px,0,0);transform: translate3d("+e.slidePos+"px,0,0);"},e.getGames(function(t){a(function(){e.currGame=t.length>0?t[0]:[],e.containerWidth=105*t.length})}),e.slidePos=0}}});